<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="阿里云服务器基础环境配置">
<meta property="og:type" content="article">
<meta property="og:title" content="阿里云服务器基础环境配置">
<meta property="og:url" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/index.html">
<meta property="og:site_name" content="LanFenng&#39;s Blog">
<meta property="og:description" content="阿里云服务器基础环境配置">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-17-39-12.png">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-01-40.png">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-05-24.png">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-07-24.png">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-09-33.png">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-23-58.png">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-31-31.png">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-41-46.png">
<meta property="og:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-19-13-21.png">
<meta property="article:published_time" content="2020-11-30T09:26:14.000Z">
<meta property="article:modified_time" content="2020-12-03T04:10:24.479Z">
<meta property="article:author" content="LanFenng">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-17-39-12.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2020/11/30/阿里云服务器基础环境配置/"/>





  <title>阿里云服务器基础环境配置 | LanFenng's Blog</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5a0005ecd00b77c48cb70581321ef1d7";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




<meta name="generator" content="Hexo 5.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">LanFenng's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Crazy Blue</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headshot.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LanFenng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">阿里云服务器基础环境配置</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-11-30T17:26:14+08:00">
                2020-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="阿里云服务器基础环境配置"><a href="#阿里云服务器基础环境配置" class="headerlink" title="阿里云服务器基础环境配置"></a>阿里云服务器基础环境配置</h1><a id="more"></a>

<h2 id="1-设置安全组的配置规则"><a href="#1-设置安全组的配置规则" class="headerlink" title="1.设置安全组的配置规则"></a>1.设置安全组的配置规则</h2><ul>
<li>允许https 443端口的访问</li>
<li>允许mysql 3306端口的访问</li>
<li>允许http 80端口的访问</li>
<li>允许http 8080端口的访问</li>
</ul>
<p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-17-39-12.png"></p>
<h2 id="2-准备安装环境的文件"><a href="#2-准备安装环境的文件" class="headerlink" title="2.准备安装环境的文件"></a>2.准备安装环境的文件</h2><ul>
<li>下载tomcat <code>https://tomcat.apache.org/download-90.cgi</code></li>
</ul>
<p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-01-40.png"></p>
<p>选择<code>tar.gz (pgp, sha512)</code>下载</p>
<ul>
<li>下载jdk <code>https://www.oracle.com/java/technologies/javase-jdk15-downloads.html</code></li>
</ul>
<p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-05-24.png"></p>
<p>选择 <code>jdk-15.0.1_linux-x64_bin.tar.gz</code>下载</p>
<ul>
<li>下载nginx <code>http://nginx.org/en/download.html</code></li>
</ul>
<p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-07-24.png"></p>
<p>选择 <code>nginx-1.16.1</code>下载</p>
<ul>
<li>下载FastDFS <code>https://sourceforge.net/projects/fastdfs/files/</code></li>
</ul>
<p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-09-33.png"></p>
<p>选择<code>Home / FastDFS Server So / … / FastDFS Server with PHP Extension Source Code V5.08 / FastDFS_v5.08.tar.gz</code> 下载</p>
<p>选择<code>Home / Java Client API Source Code / Java Client API Source Code V1.25 / fastdfs_client_java._v1.25.tar.gz</code>下载</p>
<p>选择<code>Home / FastDFS Nginx Module Source Code / fastdfs-nginx-module_v1.16.tar.gz</code>下载</p>
<ul>
<li>下载libfastcommon <code>https://sourceforge.net/projects/libfastcommon/files/</code></li>
</ul>
<p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-23-58.png"></p>
<p>选择 <code>Home / libfastcommon_v1.04.tar.gz</code>下载</p>
<ul>
<li>下载MariaDB <code>http://yum.mariadb.org/10.5/centos7-amd64/rpms/</code>(适用于centos7的)</li>
</ul>
<p>下载：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB-server-10.5.8-1.el7.centos.x86_64.rpm</span><br><span class="line">MariaDB-compat-10.5.8-1.el7.centos.x86_64.rpm</span><br><span class="line">MariaDB-common-10.5.8-1.el7.centos.x86_64.rpm</span><br><span class="line">MariaDB-client-10.5.8-1.el7.centos.x86_64.rpm</span><br><span class="line">jemalloc-devel-3.6.0-1.el7.x86_64.rpm</span><br><span class="line">jemalloc-3.6.0-1.el7.x86_64.rpm</span><br><span class="line">galera-4-26.4.4-1.rhel7.el7.centos.x86_64.rpm</span><br></pre></td></tr></table></figure>

<h2 id="3-使用Xftp把下载好的相关文件传输到服务器的-home-soft路径下"><a href="#3-使用Xftp把下载好的相关文件传输到服务器的-home-soft路径下" class="headerlink" title="3.使用Xftp把下载好的相关文件传输到服务器的 /home/soft路径下"></a>3.使用Xftp把下载好的相关文件传输到服务器的 <code>/home/soft</code>路径下</h2><p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-31-31.png"></p>
<h2 id="4-安装配置Java环境"><a href="#4-安装配置Java环境" class="headerlink" title="4.安装配置Java环境"></a>4.安装配置Java环境</h2><ul>
<li>在/usr下新建文件夹java</li>
<li>进入soft目录下</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ ~]<span class="comment"># cd /home/soft/</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># ll</span></span><br><span class="line">total 195836</span><br><span class="line">-rw-r--r-- 1 root root  11437266 Nov 30 18:32 apache-tomcat-9.0.40.tar.gz</span><br><span class="line">drwxr-xr-x 2 root root      4096 Nov 30 18:31 fastDFS</span><br><span class="line">-rw-r--r-- 1 root root 188046243 Nov 30 18:32 jdk-15.0.1_linux-x64_bin.tar.gz</span><br><span class="line">drwxr-xr-x 2 root root      4096 Nov 30 18:31 MariaDB</span><br><span class="line">-rw-r--r-- 1 root root   1032630 Nov 30 18:32 nginx-1.16.1.tar.gz</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>将jdk文件解压到 <code>/usr/java</code>目录下</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># tar -xvf jdk-15.0.1_linux-x64_bin.tar.gz -C /usr/java</span></span><br><span class="line">jdk-15.0.1/bin/jaotc</span><br><span class="line">jdk-15.0.1/bin/jar</span><br><span class="line">jdk-15.0.1/bin/jarsigner</span><br><span class="line">jdk-15.0.1/bin/java</span><br><span class="line">jdk-15.0.1/bin/javac</span><br><span class="line">jdk-15.0.1/bin/javadoc</span><br><span class="line">.....(省略)</span><br></pre></td></tr></table></figure>

<ul>
<li>配置环境变量，<code>vim /etc/profile</code>，i进入编辑模式</li>
</ul>
<p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-18-41-46.png"></p>
<p>配置JAVA_HOME,PATH,CLASSPATH</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#java environment</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk-15.0.1</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br></pre></td></tr></table></figure>
<p>Esc退出编辑模式，<code>:wq</code>保存退出</p>
<ul>
<li>重新编译，然后查看Java版本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># vim /etc/profile</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># source /etc/profile</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># java --version</span></span><br><span class="line">java 15.0.1 2020-10-20</span><br><span class="line">Java(TM) SE Runtime Environment (build 15.0.1+9-18)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<p>正确显示Java版本信息，安装完成！</p>
<h2 id="5-安装配置tomcat环境"><a href="#5-安装配置tomcat环境" class="headerlink" title="5.安装配置tomcat环境"></a>5.安装配置tomcat环境</h2><ul>
<li>将tomcat文件解压到 <code>/usr/local</code>目录下</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># tar -xvf apache-tomcat-9.0.40.tar.gz -C /usr/local</span></span><br><span class="line">apache-tomcat-9.0.40/conf/</span><br><span class="line">apache-tomcat-9.0.40/conf/catalina.policy</span><br><span class="line">apache-tomcat-9.0.40/conf/catalina.properties</span><br><span class="line">apache-tomcat-9.0.40/conf/context.xml</span><br><span class="line">apache-tomcat-9.0.40/conf/jaspic-providers.xml</span><br><span class="line">apache-tomcat-9.0.40/conf/jaspic-providers.xsd</span><br><span class="line">.....(省略)</span><br></pre></td></tr></table></figure>

<ul>
<li>进入解压tomcat的目录下，进入bin目录</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ soft]<span class="comment"># cd /usr/local/apache-tomcat-9.0.40</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ apache-tomcat-9.0.40]<span class="comment"># cd /bin</span></span><br></pre></td></tr></table></figure>

<ul>
<li>查看bin目录下的文件，启动 <code>./startup.sh</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># pwd</span></span><br><span class="line">/usr/<span class="built_in">local</span>/apache-tomcat-9.0.40/bin</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># ls -al</span></span><br><span class="line">total 884</span><br><span class="line">drwxr-x--- 2 root root   4096 Nov 30 19:01 .</span><br><span class="line">drwxr-xr-x 9 root root   4096 Nov 30 19:01 ..</span><br><span class="line">-rw-r----- 1 root root  35909 Nov 12 23:38 bootstrap.jar</span><br><span class="line">-rw-r----- 1 root root  16655 Nov 12 23:38 catalina.bat</span><br><span class="line">-rwxr-x--- 1 root root  25121 Nov 12 23:38 catalina.sh</span><br><span class="line">-rw-r----- 1 root root   1664 Nov 12 23:41 catalina-tasks.xml</span><br><span class="line">-rw-r----- 1 root root   2123 Nov 12 23:38 ciphers.bat</span><br><span class="line">-rwxr-x--- 1 root root   1997 Nov 12 23:38 ciphers.sh</span><br><span class="line">-rw-r----- 1 root root  25287 Nov 12 23:38 commons-daemon.jar</span><br><span class="line">-rw-r----- 1 root root 208136 Nov 12 23:38 commons-daemon-native.tar.gz</span><br><span class="line">-rw-r----- 1 root root   2040 Nov 12 23:38 configtest.bat</span><br><span class="line">-rwxr-x--- 1 root root   1922 Nov 12 23:38 configtest.sh</span><br><span class="line">-rwxr-x--- 1 root root   9100 Nov 12 23:38 daemon.sh</span><br><span class="line">-rw-r----- 1 root root   2091 Nov 12 23:38 digest.bat</span><br><span class="line">-rwxr-x--- 1 root root   1965 Nov 12 23:38 digest.sh</span><br><span class="line">-rw-r----- 1 root root   3606 Nov 12 23:38 makebase.bat</span><br><span class="line">-rwxr-x--- 1 root root   3382 Nov 12 23:38 makebase.sh</span><br><span class="line">-rw-r----- 1 root root   3460 Nov 12 23:38 setclasspath.bat</span><br><span class="line">-rwxr-x--- 1 root root   3708 Nov 12 23:38 setclasspath.sh</span><br><span class="line">-rw-r----- 1 root root   2020 Nov 12 23:38 shutdown.bat</span><br><span class="line">-rwxr-x--- 1 root root   1902 Nov 12 23:38 shutdown.sh</span><br><span class="line">-rw-r----- 1 root root   2022 Nov 12 23:38 startup.bat</span><br><span class="line">-rwxr-x--- 1 root root   1904 Nov 12 23:38 startup.sh</span><br><span class="line">-rw-r----- 1 root root  49777 Nov 12 23:38 tomcat-juli.jar</span><br><span class="line">-rw-r----- 1 root root 421399 Nov 12 23:38 tomcat-native.tar.gz</span><br><span class="line">-rw-r----- 1 root root   4574 Nov 12 23:38 tool-wrapper.bat</span><br><span class="line">-rwxr-x--- 1 root root   5540 Nov 12 23:38 tool-wrapper.sh</span><br><span class="line">-rw-r----- 1 root root   2026 Nov 12 23:38 version.bat</span><br><span class="line">-rwxr-x--- 1 root root   1908 Nov 12 23:38 version.sh</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># ./startup.sh </span></span><br><span class="line">Using CATALINA_BASE:   /usr/<span class="built_in">local</span>/apache-tomcat-9.0.40</span><br><span class="line">Using CATALINA_HOME:   /usr/<span class="built_in">local</span>/apache-tomcat-9.0.40</span><br><span class="line">Using CATALINA_TMPDIR: /usr/<span class="built_in">local</span>/apache-tomcat-9.0.40/temp</span><br><span class="line">Using JRE_HOME:        /usr/java/jdk-15.0.1</span><br><span class="line">Using CLASSPATH:       /usr/<span class="built_in">local</span>/apache-tomcat-9.0.40/bin/bootstrap.jar:/usr/<span class="built_in">local</span>/apache-tomcat-9.0.40/bin/tomcat-juli.jar</span><br><span class="line">Using CATALINA_OPTS:   </span><br><span class="line">Tomcat started.</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>在浏览器中访问服务器地址的8080端口</li>
</ul>
<p><img src="/2020/11/30/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2020-11-30-19-13-21.png"></p>
<p>浏览器中出现tomcat界面，成功安装tomcat!</p>
<h2 id="6-CentOS中离线安装MariaDB数据库"><a href="#6-CentOS中离线安装MariaDB数据库" class="headerlink" title="6.CentOS中离线安装MariaDB数据库"></a>6.CentOS中离线安装MariaDB数据库</h2><ul>
<li>查看是否有mysql(CentOS 7中已经默认不支持mysql了)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># rpm -qa|grep mysql</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># rpm -qa|grep MariaDB</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>安装依赖环境包，输入y开始下载安装</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># yum install rsync nmap lsof perl-DBI nc</span></span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">base                                                                               | 3.6 kB  00:00:00     </span><br><span class="line">epel                                                                               | 4.7 kB  00:00:00     </span><br><span class="line">extras                                                                             | 2.9 kB  00:00:00     </span><br><span class="line">updates                                                                            | 2.9 kB  00:00:00     </span><br><span class="line">(1/7): base/7/x86_64/group_gz                                                      | 153 kB  00:00:00     </span><br><span class="line">(2/7): epel/x86_64/group_gz                                                        |  95 kB  00:00:00     </span><br><span class="line">(3/7): base/7/x86_64/primary_db                                                    | 6.1 MB  00:00:00     </span><br><span class="line">(4/7): epel/x86_64/updateinfo                                                      | 1.0 MB  00:00:00     </span><br><span class="line">(5/7): extras/7/x86_64/primary_db                                                  | 222 kB  00:00:00     </span><br><span class="line">(6/7): epel/x86_64/primary_db                                                      | 6.9 MB  00:00:00     </span><br><span class="line">(7/7): updates/7/x86_64/primary_db                                                 | 3.7 MB  00:00:00     </span><br><span class="line">Determining fastest mirrors</span><br><span class="line">......(省略)</span><br><span class="line">Install  5 Packages (+6 Dependent packages)</span><br><span class="line"></span><br><span class="line">Total download size: 6.1 M</span><br><span class="line">Installed size: 21 M</span><br><span class="line">Is this ok [y/d/N]: y</span><br><span class="line"></span><br><span class="line">......(省略)</span><br><span class="line">Installed:</span><br><span class="line">  lsof.x86_64 0:4.87-6.el7           nmap.x86_64 2:6.40-19.el7        nmap-ncat.x86_64 2:6.40-19.el7     </span><br><span class="line">  perl-DBI.x86_64 0:1.627-4.el7      rsync.x86_64 0:3.1.2-10.el7     </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  perl-Compress-Raw-Bzip2.x86_64 0:2.061-3.el7         perl-Compress-Raw-Zlib.x86_64 1:2.061-4.el7        </span><br><span class="line">  perl-Data-Dumper.x86_64 0:2.145-3.el7                perl-IO-Compress.noarch 0:2.061-2.el7              </span><br><span class="line">  perl-Net-Daemon.noarch 0:0.48-5.el7                  perl-PlRPC.noarch 0:0.2020-14.el7                  </span><br><span class="line"></span><br><span class="line">Complete!</span><br></pre></td></tr></table></figure>

<ul>
<li>切换回MariaDB的目录：<code>/home/soft/MariaDB</code>下</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ bin]<span class="comment"># cd /home/soft/MariaDB</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># ll</span></span><br><span class="line">total 52140</span><br><span class="line">-rw-r--r-- 1 root root  9985628 Nov 30 18:31 galera-4-26.4.4-1.rhel7.el7.centos.x86_64.rpm</span><br><span class="line">-rw-r--r-- 1 root root   106112 Nov 30 18:31 jemalloc-3.6.0-1.el7.x86_64.rpm</span><br><span class="line">-rw-r--r-- 1 root root    22876 Nov 30 18:31 jemalloc-devel-3.6.0-1.el7.x86_64.rpm</span><br><span class="line">-rw-r--r-- 1 root root 13221868 Nov 30 18:31 MariaDB-client-10.5.8-1.el7.centos.x86_64.rpm</span><br><span class="line">-rw-r--r-- 1 root root    82504 Nov 30 18:31 MariaDB-common-10.5.8-1.el7.centos.x86_64.rpm</span><br><span class="line">-rw-r--r-- 1 root root  2257552 Nov 30 18:31 MariaDB-compat-10.5.8-1.el7.centos.x86_64.rpm</span><br><span class="line">-rw-r--r-- 1 root root 27705200 Nov 30 18:32 MariaDB-server-10.5.8-1.el7.centos.x86_64.rpm</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># pwd</span></span><br><span class="line">/home/soft/MariaDB</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>安装<code>jemalloc-3.6.0-1.el7.x86_64.rpm </code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm -ivh jemalloc-3.6.0-1.el7.x86_64.rpm </span></span><br><span class="line">warning: jemalloc-3.6.0-1.el7.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 1bb943db: NOKEY</span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:jemalloc-3.6.0-1.el7             <span class="comment">################################# [100%]</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>安装<code>jemalloc-devel-3.6.0-1.el7.x86_64.rpm</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm -ivh jemalloc-devel-3.6.0-1.el7.x86_64.rpm </span></span><br><span class="line">warning: jemalloc-devel-3.6.0-1.el7.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 1bb943db: NOKEY</span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:jemalloc-devel-3.6.0-1.el7       <span class="comment">################################# [100%]</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>同时安装<code>MariaDB-common-10.5.8-1.el7.centos.x86_64.rpm</code>和<code>MariaDB-compat-10.5.8-1.el7.centos.x86_64.rpm</code>，这两个包是相互依赖的，不能分开单独安装</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm -ivh MariaDB-common-10.5.8-1.el7.centos.x86_64.rpm MariaDB-compat-10.5.8-1.el7.centos.x86_64.rpm </span></span><br><span class="line">warning: MariaDB-common-10.5.8-1.el7.centos.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 1bb943db: NOKEY</span><br><span class="line">error: Failed dependencies:</span><br><span class="line">	mariadb-libs &lt; 1:10.1.0 conflicts with MariaDB-compat-10.5.8-1.el7.centos.x86_64</span><br><span class="line">	mariadb-libs &lt;= 1:10.1.48-1.el7.centos is obsoleted by MariaDB-compat-10.5.8-1.el7.centos.x86_64</span><br></pre></td></tr></table></figure>

<p><strong>这几个包相互依赖，这里加上<code>--nodeps</code> 和<code>--force</code>参数</strong></p>
<p><strong><em>–nodeps就是安装时不检查依赖关系</em></strong></p>
<p>比如你这个rpm需要A，但是你没装A，这样你的包就装不上，用了–nodeps你就能装上了</p>
<p><strong><em>–force就是强制安装</em></strong></p>
<p>比如你装过这个rpm的版本1，如果你想装这个rpm的版本2，就需要用–force强制安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm -ivh MariaDB-common-10.5.8-1.el7.centos.x86_64.rpm MariaDB-compat-10.5.8-1.el7.centos.x86_64.rpm --nodeps --force</span></span><br><span class="line">warning: MariaDB-common-10.5.8-1.el7.centos.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 1bb943db: NOKEY</span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:MariaDB-compat-10.5.8-1.el7.cento<span class="comment">################################# [ 50%]</span></span><br><span class="line">   2:MariaDB-common-10.5.8-1.el7.cento<span class="comment">################################# [100%]</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<p><strong>这里compat包没有完成安装，先继续安装其他包</strong></p>
<ul>
<li>安装<code>MariaDB-client-10.5.8-1.el7.centos.x86_64.rpm</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm -ivh MariaDB-client-10.5.8-1.el7.centos.x86_64.rpm --nodeps --force</span></span><br><span class="line">warning: MariaDB-client-10.5.8-1.el7.centos.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 1bb943db: NOKEY</span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:MariaDB-client-10.5.8-1.el7.cento<span class="comment">################################# [100%]</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>重新安装一次<code>MariaDB-compat-10.5.8-1.el7.centos.x86_64.rpm</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm -ivh MariaDB-compat-10.5.8-1.el7.centos.x86_64.rpm --nodeps --force</span></span><br><span class="line">warning: MariaDB-compat-10.5.8-1.el7.centos.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 1bb943db: NOKEY</span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:MariaDB-compat-10.5.8-1.el7.cento<span class="comment">################################# [100%]</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>安装<code>galera-4-26.4.4-1.rhel7.el7.centos.x86_64.rpm</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm -ivh galera-4-26.4.4-1.rhel7.el7.centos.x86_64.rpm --nodeps --force</span></span><br><span class="line">warning: galera-4-26.4.4-1.rhel7.el7.centos.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 1bb943db: NOKEY</span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:galera-4-26.4.4-1.rhel7.el7.cento<span class="comment">################################# [100%]</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>安装 boost-devel，输入y，安装</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># yum install boost-devel.x86_64</span></span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">Resolving Dependencies</span><br><span class="line">--&gt; Running transaction check</span><br><span class="line">---&gt; Package boost-devel.x86_64 0:1.53.0-28.el7 will be installed</span><br><span class="line">--&gt; Processing Dependency: boost(x86-64) = 1.53.0-28.el7 <span class="keyword">for</span> package: boost-devel-1.53.0-28.el7.x86_64</span><br><span class="line">--&gt; Processing Dependency: libboost_wserialization.so.1.53.0()(64bit) <span class="keyword">for</span> package: boost-devel-1.53.0-28.el7.x86_64</span><br><span class="line">......(省略)</span><br><span class="line">Transaction Summary</span><br><span class="line">==========================================================================================================</span><br><span class="line">Install  1 Package (+22 Dependent packages)</span><br><span class="line"></span><br><span class="line">Total download size: 16 M</span><br><span class="line">Installed size: 122 M</span><br><span class="line">Is this ok [y/d/N]: y</span><br><span class="line">......(省略)</span><br><span class="line">Installed:</span><br><span class="line">  boost-devel.x86_64 0:1.53.0-28.el7                                                                      </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  boost.x86_64 0:1.53.0-28.el7                           boost-atomic.x86_64 0:1.53.0-28.el7              </span><br><span class="line">  boost-chrono.x86_64 0:1.53.0-28.el7                    boost-context.x86_64 0:1.53.0-28.el7             </span><br><span class="line">  boost-date-time.x86_64 0:1.53.0-28.el7                 boost-filesystem.x86_64 0:1.53.0-28.el7          </span><br><span class="line">  boost-graph.x86_64 0:1.53.0-28.el7                     boost-iostreams.x86_64 0:1.53.0-28.el7           </span><br><span class="line">  boost-locale.x86_64 0:1.53.0-28.el7                    boost-math.x86_64 0:1.53.0-28.el7                </span><br><span class="line">  boost-program-options.x86_64 0:1.53.0-28.el7           boost-python.x86_64 0:1.53.0-28.el7              </span><br><span class="line">  boost-random.x86_64 0:1.53.0-28.el7                    boost-regex.x86_64 0:1.53.0-28.el7               </span><br><span class="line">  boost-serialization.x86_64 0:1.53.0-28.el7             boost-signals.x86_64 0:1.53.0-28.el7             </span><br><span class="line">  boost-system.x86_64 0:1.53.0-28.el7                    boost-test.x86_64 0:1.53.0-28.el7                </span><br><span class="line">  boost-thread.x86_64 0:1.53.0-28.el7                    boost-timer.x86_64 0:1.53.0-28.el7               </span><br><span class="line">  boost-wave.x86_64 0:1.53.0-28.el7                      libicu.x86_64 0:50.2-4.el7_7                     </span><br><span class="line"></span><br><span class="line">Complete!</span><br></pre></td></tr></table></figure>

<ul>
<li>安装 RPM-GPG-KEY</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm --import http://yum.mariadb.org/RPM-GPG-KEY-MariaDB</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<ul>
<li>安装<code>MariaDB-server-10.5.8-1.el7.centos.x86_64.rpm</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># rpm -ivh MariaDB-server-10.5.8-1.el7.centos.x86_64.rpm --nodeps --force</span></span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:MariaDB-server-10.5.8-1.el7.cento<span class="comment">################################# [100%]</span></span><br><span class="line">/usr/sbin/mysqld: error <span class="keyword">while</span> loading shared libraries: libpcre2-8.so.0: cannot open shared object file: No such file or directory</span><br><span class="line"></span><br><span class="line">Installation of system tables failed!  Examine the logs <span class="keyword">in</span></span><br><span class="line">/var/lib/mysql <span class="keyword">for</span> more information.</span><br><span class="line"></span><br><span class="line">The problem could be conflicting information <span class="keyword">in</span> an external</span><br><span class="line">my.cnf files. You can ignore these by doing:</span><br><span class="line"></span><br><span class="line">    shell&gt; /usr/bin/mysql_install_db --defaults-file=~/.my.cnf</span><br><span class="line"></span><br><span class="line">You can also try to start the mysqld daemon with:</span><br><span class="line"></span><br><span class="line">    shell&gt; /usr/sbin/mysqld --skip-grant-tables --general-log &amp;</span><br><span class="line"></span><br><span class="line">and use the <span class="built_in">command</span> line tool /usr/bin/mysql</span><br><span class="line">to connect to the mysql database and look at the grant tables:</span><br><span class="line"></span><br><span class="line">    shell&gt; /usr/bin/mysql -u root mysql</span><br><span class="line">    mysql&gt; show tables;</span><br><span class="line"></span><br><span class="line">Try <span class="string">&#x27;mysqld --help&#x27;</span> <span class="keyword">if</span> you have problems with paths.  Using</span><br><span class="line">--general-log gives you a <span class="built_in">log</span> <span class="keyword">in</span> /var/lib/mysql that may be helpful.</span><br><span class="line"></span><br><span class="line">The latest information about mysql_install_db is available at</span><br><span class="line">https://mariadb.com/kb/en/installing-system-tables-mysql_install_db</span><br><span class="line">You can find the latest <span class="built_in">source</span> at https://downloads.mariadb.org and</span><br><span class="line">the maria-discuss email list at https://launchpad.net/~maria-discuss</span><br><span class="line"></span><br><span class="line">Please check all of the above before submitting a bug report</span><br><span class="line">at https://mariadb.org/jira</span><br><span class="line"></span><br><span class="line">chmod: cannot access ‘/var/lib/mysql/mysql’: No such file or directory</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ MariaDB]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<p><strong>报错<code>chmod: cannot access ‘/var/lib/mysql/mysql’: No such file or directory</code></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ ~]<span class="comment"># service mysql start</span></span><br><span class="line">Redirecting to /bin/systemctl start mysql.service</span><br><span class="line">Job <span class="keyword">for</span> mariadb.service failed because the control process exited with error code. See <span class="string">&quot;systemctl status mariadb.service&quot;</span> and <span class="string">&quot;journalctl -xe&quot;</span> <span class="keyword">for</span> details.</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ ~]<span class="comment"># ^C</span></span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ ~]<span class="comment"># systemctl status mariadb.service</span></span><br><span class="line">● mariadb.service - MariaDB 10.5.8 database server</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/./mariadb.service; disabled; vendor preset: disabled)</span><br><span class="line">  Drop-In: /etc/systemd/system/mariadb.service.d</span><br><span class="line">           └─migrated-from-my.cnf-settings.conf</span><br><span class="line">   Active: failed (Result: exit-code) since Mon 2020-11-30 20:06:03 CST; 19s ago</span><br><span class="line">     Docs: man:mariadbd(8)</span><br><span class="line">           https://mariadb.com/kb/en/library/systemd/</span><br><span class="line">  Process: 20244 ExecStart=/usr/sbin/mariadbd <span class="variable">$MYSQLD_OPTS</span> <span class="variable">$_WSREP_NEW_CLUSTER</span> <span class="variable">$_WSREP_START_POSITION</span> (code=exited, status=127)</span><br><span class="line">  Process: 20233 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] &amp;&amp; VAR= ||   VAR=`<span class="built_in">cd</span> /usr/bin/..; /usr/bin/galera_recovery`; [ $? -eq 0 ]   &amp;&amp; systemctl set-environment _WSREP_START_POSITION=<span class="variable">$VAR</span> || <span class="built_in">exit</span> 1 (code=exited, status=0/SUCCESS)</span><br><span class="line">  Process: 20231 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)</span><br><span class="line"> Main PID: 20244 (code=exited, status=127)</span><br><span class="line"></span><br><span class="line">Nov 30 20:06:02 iZbp183jt9g03j7n1n7tzuZ systemd[1]: Starting MariaDB 10.5.8 database server...</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ systemd[1]: mariadb.service: main process exited, code=exit...n/a</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ systemd[1]: Failed to start MariaDB 10.5.8 database server.</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ systemd[1]: Unit mariadb.service entered failed state.</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ systemd[1]: mariadb.service failed.</span><br><span class="line">Hint: Some lines were ellipsized, use -l to show <span class="keyword">in</span> full.</span><br><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ ~]<span class="comment"># </span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp183jt9g03j7n1n7tzuZ ~]<span class="comment"># journalctl -xe</span></span><br><span class="line">-- </span><br><span class="line">-- Unit session-23.scope has finished starting up.</span><br><span class="line">-- </span><br><span class="line">-- The start-up result is <span class="keyword">done</span>.</span><br><span class="line">Nov 30 20:01:01 iZbp183jt9g03j7n1n7tzuZ systemd[1]: Starting Session 23 of user root.</span><br><span class="line">-- Subject: Unit session-23.scope has begun start-up</span><br><span class="line">-- Defined-By: systemd</span><br><span class="line">-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel</span><br><span class="line">-- </span><br><span class="line">-- Unit session-23.scope has begun starting up.</span><br><span class="line">Nov 30 20:01:01 iZbp183jt9g03j7n1n7tzuZ CROND[20202]: (root) CMD (run-parts /etc/cron.hourly)</span><br><span class="line">Nov 30 20:01:01 iZbp183jt9g03j7n1n7tzuZ run-parts(/etc/cron.hourly)[20205]: starting 0anacron</span><br><span class="line">Nov 30 20:01:01 iZbp183jt9g03j7n1n7tzuZ run-parts(/etc/cron.hourly)[20211]: finished 0anacron</span><br><span class="line">Nov 30 20:05:45 iZbp183jt9g03j7n1n7tzuZ sshd[19706]: pam_unix(sshd:session): session closed <span class="keyword">for</span> user root</span><br><span class="line">Nov 30 20:05:45 iZbp183jt9g03j7n1n7tzuZ systemd-logind[470]: Removed session 11.</span><br><span class="line">-- Subject: Session 11 has been terminated</span><br><span class="line">-- Defined-By: systemd</span><br><span class="line">-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel</span><br><span class="line">-- Documentation: http://www.freedesktop.org/wiki/Software/systemd/multiseat</span><br><span class="line">-- </span><br><span class="line">-- A session with the ID 11 has been terminated.</span><br><span class="line">Nov 30 20:06:02 iZbp183jt9g03j7n1n7tzuZ polkitd[455]: Registered Authentication Agent <span class="keyword">for</span> unix-process:20</span><br><span class="line">Nov 30 20:06:02 iZbp183jt9g03j7n1n7tzuZ systemd[1]: Starting MariaDB 10.5.8 database server...</span><br><span class="line">-- Subject: Unit mariadb.service has begun start-up</span><br><span class="line">-- Defined-By: systemd</span><br><span class="line">-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel</span><br><span class="line">-- </span><br><span class="line">-- Unit mariadb.service has begun starting up.</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ mariadbd[20244]: /usr/sbin/mariadbd: error <span class="keyword">while</span> loading shared l</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ systemd[1]: mariadb.service: main process exited, code=exited, st</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ systemd[1]: Failed to start MariaDB 10.5.8 database server.</span><br><span class="line">-- Subject: Unit mariadb.service has failed</span><br><span class="line">-- Defined-By: systemd</span><br><span class="line">-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel</span><br><span class="line">-- </span><br><span class="line">-- Unit mariadb.service has failed.</span><br><span class="line">-- </span><br><span class="line">-- The result is failed.</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ systemd[1]: Unit mariadb.service entered failed state.</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ systemd[1]: mariadb.service failed.</span><br><span class="line">Nov 30 20:06:03 iZbp183jt9g03j7n1n7tzuZ polkitd[455]: Unregistered Authentication Agent <span class="keyword">for</span> unix-process:</span><br><span class="line">lines 1519-1559/1559 (END)</span><br></pre></td></tr></table></figure>



      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/11/28/%E5%B0%86%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D/" rel="next" title="将博客部署到个人域名">
                <i class="fa fa-chevron-left"></i> 将博客部署到个人域名
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/12/03/IntelliJ-IDEA%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/" rel="prev" title="IntelliJ IDEA使用">
                IntelliJ IDEA使用 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/headshot.jpg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LanFenng</span>

  
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
